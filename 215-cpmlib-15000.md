# 2.15. CPMLIB \(-15000\)

## CPMMAP_IS_NULL (-15010)
* Description
  * This error occurs when a given EBCDIC byte is mapped to X'00' in the cpm.
* Action
  * Correct the cpm to have valid conversion table
  * Or check the schema file for the data migration
  * Or check if the dataset is valid

### Case1: Conversion Error
* Problem 
  * If you are not be able to migrate the dataset and the error message is:
  ```bash
  jh_lee@jh_lee:~/working/testing$ dsmigin TESTFILE TEST.hhh.DATA3 -e US -D 3 -f FB -s /OpenFrame/schema/DATA4.conv
  
  052336 M MIG0001M =====< DSMIGIN START >=====
  source file : TESTFILE
  dataset name: TEST.hhh.DATA3
  member name :
  unit:
  volume:
  schema file  : ../../OpenFrame/schema/DATA4.conv
  encoding type: US
  record length:
  block_size:
  record format: FB
  dsorg:
  delimiter:

  RECFM = FB, LRECL = 63, BLKSIZE = 63

  ams_get_candidate_catalog: DSN=TEST.hhh.DATA3, CATALOG=SYS1.MASTER.ICFCAT
  Non-VSAM dataset allocated for import: TEST.hhh.DATA3
  BEFORE Conversion: (12) [c8c5d3d3d640e6d6d9d3c40a]

  * conversion error: [0x0A], offset - [0x00000b]
  * conversion error: 'VAR' TYPE EBCDIC at offset 0
  --------------------------------------------------------------------------------      ------------------------------------------------  ------------
  >> EBCDIC : [c8c5d3d3d640e6d6d9d3c40a0000000000000000000000000000000000000000000         00000000000000000000000000000000000000000000000000000000000]
  >> ASCII  : [48454c4c4f20574f524c44000000000000000000000000000000000000000000000      00000000000000000000000000000000000000000000000000000000000]
  --------------------------------------------------------------------------------      ------------------------------------------------  ------------
  052336 W MIG0012W Conversion Error - rc = -15010 (record no.= 1, offset = 0x00)
  052336 E MIG0603E Failed to import - rc = -15010
 
  ```
* Solution 
  * In this case, the problem is with CPM, dataset or copybook. Make sure everything is correct on each of them.
  * In this example, the issue was rising from the dataset, because it was not converted to EBCDIC. 
  ```bash
   jh_lee@jh_lee:~/working/testing$ vim -b TESTFILE
    
    1 0000000: c8c5 d3d3 d640 e6d6 d9d3 c4              .....@.....
    ```
    As you see, this is the hex format of the data, but in order to migrate, the data should be in ebcdic format. So, to convert to EBCDIC, without closing the file press __'ESC'__ key and give column and type  __':%!xxd'__  and hit enter. Now, you should be able to see the data in EBCDIC format, which similar to this:
    ```bash
    
     1 ▒▒▒▒▒▒▒▒▒
    ```
    You won't be able to see, because the data is in EBCDIC value and Linux system doesn't read EBCDIC, only ASCII. 
    Now, save it and close. 
    
    Run again the migration command. 

  


